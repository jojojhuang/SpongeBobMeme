import{d as M,r as h,a as f,c as g,u as $,b,o as m,e as p,f as s,t as C,g as v,n as k,p as S,h as j,i as B,F as I,j as D,w as x,v as O,k as y,l as z,m as F,q as N,s as H,x as E}from"./vendor.24a39695.js";const V=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}};V();const _=M("likes",()=>{var e;const t=h(JSON.parse((e=localStorage.getItem("likelist"))!=null?e:"[]"));return{likeList:t,addLike:o=>{t.value.push(o),localStorage.setItem("likelist",JSON.stringify(t.value))},removeLike:o=>{t.value.splice(t.value.indexOf(o),1),localStorage.setItem("likelist",JSON.stringify(t.value))},isLike:o=>t.value.includes(o)}});var A=(t,i)=>{const l=t.__vccOpts||t;for(const[r,e]of i)l[r]=e;return l};const w=t=>(S("data-v-490ca6da"),t=t(),j(),t),P={class:"rounded-lg relative overflow-hidden image-container"},J=["src","alt"],T={class:"flex-col min-w-full bg-black/50 min-h-[35vh] inset-0 gap-4 control-embed absolute justify-center items-center hidden"},U={class:"font-bold min-h-9 text-white/80 text-3xl"},q={class:"flex gap-4 justify-center items-center"},K=w(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)),R=[K],W=w(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 m-1 stroke-white/70 w-12 group-hover:stroke-black/80",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})],-1)),G=[W],Q=["href"],X=w(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 m-1 stroke-white/70 w-12 group-hover:stroke-black/80",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)),Y=[X],Z=f({props:{m:null},setup(t){const i=t,l=_(),r=h(""),e=g(()=>{switch(r.value){case"like":return l.isLike(i.m.uid)?"\u53D6\u6D88\u6536\u85CF":"\u6536\u85CF";case"copy":return"\u8907\u88FD\u7DB2\u5740";case"link":return"\u65B0\u5206\u9801\u4E2D\u958B\u555F";default:return""}}),{copied:o,copy:u}=$();b("clipboard-read"),b("clipboard-write");const d=()=>{l.isLike(i.m.uid)?l.removeLike(i.m.uid):l.addLike(i.m.uid)};return(a,n)=>(m(),p("div",P,[s("img",{src:t.m.src,alt:t.m.title,loading:"lazy",class:"font-bold min-w-full max-w-full object-cover object-bottom h-[35vh] text-center text-white text-lg"},null,8,J),s("div",T,[s("div",U,C(v(o)?"\u5B8C\u6210":v(e)),1),s("div",q,[s("button",{class:"rounded-full border-white/70 border-2 group hover:bg-white/70",onMouseenter:n[0]||(n[0]=c=>r.value="like"),onMouseleave:n[1]||(n[1]=c=>r.value=""),onClick:d},[(m(),p("svg",{xmlns:"http://www.w3.org/2000/svg",class:k(["h-12 m-1 fill-transparent stroke-white/70 w-12 group-hover:stroke-yellow-600/80",{"!fill-yellow-500":v(l).isLike(t.m.uid)}]),viewBox:"0 0 24 24",stroke:"currentColor"},R,2))],32),s("button",{class:"rounded-full border-white/70 border-2 group hover:bg-white/70",onClick:n[2]||(n[2]=c=>v(u)(encodeURI(t.m.src))),onMouseenter:n[3]||(n[3]=c=>r.value="copy"),onMouseleave:n[4]||(n[4]=c=>r.value="")},G,32),s("a",{href:t.m.src,class:"rounded-full border-white/70 border-2 group hover:bg-white/70",target:"_blank",onMouseenter:n[5]||(n[5]=c=>r.value="link"),onMouseleave:n[6]||(n[6]=c=>r.value="")},Y,40,Q)])])]))}});var ee=A(Z,[["__scopeId","data-v-490ca6da"]]);const te={class:"max-h-[calc(100vh-74px)] overflow-y-scroll overflow-x-hidden"},oe={class:"flex flex-wrap gap-4 after:content-DEFAULT after:min-w-[35vh] after:flex-grow-[999999999]"},se=f({props:{list:null},setup(t){const i=t,l=h(20),r=h(),e=g(()=>l.value<i.list.length);B(r,([{isIntersecting:u}])=>{u&&(l.value+=20)},{rootMargin:"200px"});const o=g(()=>i.list.slice(0,l.value));return(u,d)=>(m(),p("div",te,[s("ul",oe,[(m(!0),p(I,null,D(v(o),a=>(m(),p("li",{class:"flex-grow h-[35vh] aspect-16/13",key:a.uid},[y(ee,{m:a},null,8,["m"])]))),128))]),x(s("div",{ref_key:"target",ref:r,class:"min-w-screen min-h-px bg-blue-gray-100"},null,512),[[O,v(e)]])]))}}),re={class:"min-h-screen bg-cool-gray-800 overflow-hidden"},ne={class:"flex bg-cool-gray-800 w-full z-10 gap-4 items-center"},le=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-7 m-1 fill-yellow-500 stroke-yellow-600/80 w-7",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z","clip-rule":"evenodd"})],-1),ie=s("span",{class:"hidden sm:inline"},"\u6536\u85CF\u593E",-1),ae=[le,ie],ue=s("a",{class:"flex ml-auto h-10 mr-4 text-white/20 w-10 justify-center items-center hover:text-white",href:"https://github.com/jojojhuang/SpongeBobMeme"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"h-8 w-8",viewBox:"0 0 24 24"},[s("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1),ce=f({setup(t){const i=_(),l=h([]);z(async()=>{const a=await(await fetch("https://sponge-bob-meme.s3.ap-southeast-1.amazonaws.com/memes.json",{method:"get"})).json();l.value=a.sort((n,c)=>c.id-n.id)});const r=h(""),{results:e}=F(r,l,{fuseOptions:{keys:["title"],threshold:.55},matchAllWhenSearchEmpty:!0}),o=g(()=>{const d=e.value.map(a=>a.item);return u.value?d.filter(a=>i.isLike(a.uid)):d}),u=h(!1);return(d,a)=>(m(),p("section",re,[s("nav",ne,[x(s("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>r.value=n),placeholder:"\u641C\u5C0B...",class:"border rounded-xl flex-grow outline-none bg-gray-600 bg-opacity-20 border-gray-600 h-10 m-4 mr-0 text-white text-base min-w-0 p-2 pl-4 transition-colors ease-in-out text-gray-100 duration-200 sm:flex-grow-0 focus:bg-transparent focus:border-indigo-500 focus:ring-2 focus:ring-indigo-900"},null,512),[[N,r.value]]),s("button",{class:k(["rounded-xl flex font-bold outline-none bg-gray-600 bg-opacity-20 border-1 border-gray-600 h-10 text-white px-2 items-center active:bg-transparent active:border-indigo-500 active:ring-2 active:ring-indigo-900",{"bg-white bg-opacity-100 text-gray-600":u.value}]),onClick:a[1]||(a[1]=n=>u.value=!u.value)},ae,2),ue]),y(se,{list:v(o),class:"mx-4"},null,8,["list"])]))}});const L=H(ce);L.use(E());L.mount("#app");
